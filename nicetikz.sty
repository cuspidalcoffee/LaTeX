\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{nicetikz}[2021/09/08 TikZ-based environments]

\RequirePackage{tikz}
\RequirePackage{tikz-cd}

\usetikzlibrary{arrows}
\usetikzlibrary{babel}			% Prevents clashes with Spanish babel package
\usetikzlibrary{calc}			% Functions in the coordinates
\usetikzlibrary{patterns}
\usetikzlibrary{positioning}

\@ifclassloaded{beamer}{%
	\newenvironment{diagram}%
	{\begin{center}\begin{tikzcd}[ampersand replacement=\&]}%
	{\end{tikzcd}\end{center}}%
}%
{%
	\newenvironment{diagram}%
	{\begin{center}\begin{tikzcd}}%
	{\end{tikzcd}\end{center}}%
}

% Row separation is set to -1mm by default, in an attempt to mimic the way
% display style functions are written.
% Separation can be set manually (requires units).

\newenvironment{funcion}[1][-1mm]%
{\begin{center}\begin{tikzcd}[row sep=#1]}%
{\end{tikzcd}\end{center}}
